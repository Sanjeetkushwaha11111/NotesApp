package com.sanjeet.androidassignment.ui.characterlistimport android.view.LayoutInflaterimport android.view.ViewGroupimport android.widget.Toastimport androidx.recyclerview.widget.RecyclerViewimport com.bumptech.glide.Glideimport com.bumptech.glide.load.resource.drawable.DrawableTransitionOptionsimport com.sanjeet.androidassignment.Rimport com.sanjeet.androidassignment.data.characterModel.CharacterListimport com.sanjeet.androidassignment.databinding.CharacterListItemBindingclass CharacterListAdapter(    characterLists: List<CharacterList>,    private var viewModel: CharacterViewModel) :    RecyclerView.Adapter<CharacterListViewHolder>() {    private var charList = characterLists    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CharacterListViewHolder {        return CharacterListViewHolder(            CharacterListItemBinding.inflate(                LayoutInflater.from(parent.context),                parent,                false            ), viewModel        )    }    override fun getItemCount(): Int = charList.size    override fun onBindViewHolder(holder: CharacterListViewHolder, position: Int) {        holder.bindItems(charList[position])    }    fun updateAdapter(characterLists: List<CharacterList>) {        this.charList = characterLists        notifyDataSetChanged()    }}class CharacterListViewHolder(    private var binding: CharacterListItemBinding,    private var viewModel: CharacterViewModel,) :    RecyclerView.ViewHolder(binding.root) {    fun bindItems(itemChar: CharacterList) {        Glide.with(binding.image.context).load(itemChar.image)            .transition(DrawableTransitionOptions.withCrossFade()).into(binding.image)        itemChar.apply {            binding.name.text = name            binding.allDetails.text = "${gender} . ${species} . ${location.name}"            if (episodeName.isNullOrEmpty()) {                binding.episodeName.text = "..."            } else {                binding.episodeName.text = episodeName            }        }        if (itemChar.isBookMarked) {            binding.bookmark.setImageResource(R.drawable.filled_star)        } else {            binding.bookmark.setImageResource(R.drawable.unfilled_star)        }        binding.bookmark.setOnClickListener {            viewModel.toggleBookmarkForCharacter(itemChar, !itemChar.isBookMarked)            if (!itemChar.isBookMarked) {                binding.bookmark.setImageResource(R.drawable.filled_star)                Toast.makeText(                    binding.name.context,                    "${itemChar.name} added to bookmark",                    Toast.LENGTH_SHORT                ).show()            } else {                Toast.makeText(                    binding.name.context,                    "${itemChar.name} removed from bookmark",                    Toast.LENGTH_SHORT                ).show()                binding.bookmark.setImageResource(R.drawable.unfilled_star)            }        }    }}